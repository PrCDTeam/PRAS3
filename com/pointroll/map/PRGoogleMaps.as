package com.pointroll.map{	import flash.display.MovieClip;		import com.pointroll.api.mapping.PrMap;	import com.pointroll.api.mapping.PrMarker;	import com.pointroll.api.events.PrMapEvent;		import flash.events.EventDispatcher;		import com.pointroll.events.PRMarkerEvents	public class PRGoogleMaps extends EventDispatcher{		private var _map:PrMap;				private var _mapTarget:MovieClip;						public function PRGoogleMaps(map:MovieClip) {			_mapTarget = map;			init();		}		private function init():void{			//PrMap(target:Sprite, centerLat:Number, centerLng:Number, startZoom:Number, mapKey:String = null)			_map = new PrMap(_mapTarget);			_map.infoWindowRenderer = InfoPopup;			_map.addEventListener(PrMapEvent.MAP_READY, onMapEvent);   		    _map.addEventListener(PrMapEvent.MARKER_CLICK, onMapEvent);		}				public function setPins(xml:XML):void {			var _length:int = xml.locations.location.length();			_map.removeAllMarkers();			for (var i:int = 0; i < _length; i++) {				_map.createMarkerAt(xml.locations.location[i].lat, xml.locations.location[i].lon, new StoreMarker(), xml.locations.location[i]);			}			if(_map.zoom != 8){				_map.zoom = 8;			}						_map.centerOnLatLng(xml.locations.location[0].lat, xml.locations.location[0].lon);		}								// EVENTS		private function onMapEvent(e:PrMapEvent):void{			switch(e.type){				case "mapReady":					  dispatchEvent(e);				break;				case "markerClick":					 var m:PrMarker=e.feature as PrMarker;										 _map.displayInfoWindow(m);					 _map.centerOnMarker(m);									 dispatchEvent(new PRMarkerEvents(PRMarkerEvents.ON_MARKER_CLICKED, m));				break			}		}	}}