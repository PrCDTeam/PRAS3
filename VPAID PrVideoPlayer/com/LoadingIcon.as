package com {	import flash.display.MovieClip;	import flash.display.Sprite;	import flash.utils.setTimeout;	import com.greensock.TweenLite;	import flash.display.Graphics;		public class LoadingIcon extends MovieClip{		private var num:int;		private var highAlpha:Number;		private var lowAlpha:Number;		private var array:Array = new Array();		private var time:Number;		public function LoadingIcon(n:uint = 8, hex:uint = 0x999999, highAlpha:Number = 1, lowAlpha:Number = .1):void{			num = n;			this.highAlpha = highAlpha;			this.lowAlpha = lowAlpha;			for(var i:int = 0; i < num; i ++){				var f:Sprite = new Sprite();				//f.graphics.lineStyle(2, hex, 1)				f.graphics.beginFill(hex, 1);				f.graphics.drawCircle(-4, 16, 4);				f.graphics.endFill();				f.rotation = i * (360/num);				array.push(f)				addChild(f);			}						time = 1.25			animStop();		}				public function animGo():void{			visible = true;			killTweens();									for(var i:int = 0; i < num; i ++){				phaseOne(array[i], time*.25*i)			}		}				public function animStop():void{			visible = false;			killTweens();		}				private function phaseOne(f:Sprite, delayTime:Number = 0):void{			f.alpha = lowAlpha			TweenLite.to(f, time, {delay:delayTime, alpha:highAlpha, onComplete:phaseTwo, onCompleteParams:[f]});						}				private function phaseTwo(f:Sprite):void{			f.alpha = highAlpha			TweenLite.to(f, time, {alpha:lowAlpha, onComplete:phaseOne, onCompleteParams:[f]});		}				private function killTweens():void{			for(var i:int = 0; i < num; i ++){				TweenLite.killTweensOf(array[i]);			}		}	}}