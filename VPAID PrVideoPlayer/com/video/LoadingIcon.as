package com.video {	import flash.display.MovieClip;	import flash.display.Sprite;	import flash.utils.setTimeout;	import com.greensock.TweenLite;		public class LoadingIcon extends MovieClip{		private const T:Number = 1.2		private const NUM:int = 10		private const LOW_ALPHA:Number = .12		private const HIGH_ALPHA:Number = .5		private var num:int;		public function LoadingIcon(n:uint = NUM, hex:uint = 0x999999):void{			num = n;			for(var i:int = 0; i < num; i ++){				var f:Sprite = new Sprite();				f.graphics.beginFill(hex, 1);				f.graphics.drawCircle(-3, 16, 4);				f.graphics.endFill();				f.rotation = i * (360/num);				f.name = 'f'+i;				addChild(f);			}			animStop();		}				public function animGo():void{			visible = true;			killTweens();			phaseOne();		}				public function animStop():void{			visible = false;			killTweens();		}				private function phaseOne():void{			for(var i:int = 0; i < num; i ++){				var f:Sprite = getChildByName('f'+i) as Sprite;				f.alpha = HIGH_ALPHA;				if(i < num - 1){					TweenLite.to(f, T, {delay:i*.2, alpha:LOW_ALPHA});				}else{					TweenLite.to(f, T, {delay:i*.2, alpha:LOW_ALPHA, onComplete:phaseTwo});				}			}		}				private function phaseTwo():void{			for(var i:int = 0; i < num; i ++){				var f:Sprite = getChildByName('f'+i) as Sprite;				if(i < num - 1){					TweenLite.to(f, T, {delay:i*.2, alpha:HIGH_ALPHA});				}else{					TweenLite.to(f, T, {delay:i*.2, alpha:HIGH_ALPHA, onComplete:phaseOne});				}			}		}				private function killTweens():void{			for(var i:int = 0; i < num; i ++){				var f:Sprite = getChildByName('f'+i) as Sprite;				TweenLite.killTweensOf(f);			}		}	}}